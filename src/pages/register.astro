---
import Layout from '../layouts/Base.astro'
import HeaderLR from '../components/HeaderLR.astro';
---

<Layout title="Registrarse">
  <HeaderLR />
  <section>
    <div class="min-w-screen min-h-screen bg-footer flex items-center justify-center px-5 py-5">
      <div class="text-gray-500 rounded-3xl shadow-xl w-[1400px] overflow-hidden backdrop-blur-[3px] bg-white/10">
        <div class="md:flex w-full">
          <div class="hidden md:block w-1/2 py-32 px-12 select-none">
            <img src="/Elements/LR.webp" alt="">
          </div>
          <div class="w-full md:w-1/2 py-36 px-5 md:px-10">
            <form action="" method="POST" id="form">
              <div class="flex -mx-3">
                <div class="w-1/2 px-3 mb-5">
                  <label for="" class="text-lg font-GilroyBold px-1 py-2 text-white">Nombre</label>
                  <div class="flex">
                    <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                        class="mdi mdi-account-outline text-gray-400 text-lg"></i></div>
                    <input name="name" id="name" type="text"
                      class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#F0CEA0]">
                  </div>
                </div>
                <div class="w-1/2 px-3 mb-5">
                  <label for="" class="text-lg font-GilroyBold px-1 text-white">Apellido</label>
                  <div class="flex">
                    <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                        class="mdi mdi-account-outline text-gray-400 text-lg"></i></div>
                    <input name="lastname" id="lastname" type="text"
                      class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#F0CEA0]">
                  </div>
                </div>
              </div>
              <div class="flex -mx-3">
                <div class="w-full px-3 mb-5">
                  <label for="" class="text-lg font-GilroyBold px-1 text-white">Usuario</label>
                  <div class="flex">
                    <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                        class="mdi mdi-email-outline text-gray-400 text-lg"></i></div>
                    <input name="user" id="user" id="user" type="text"
                      class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#F0CEA0]">
                  </div>
                </div>
              </div>
              <div class="flex -mx-3">
                <div class="w-full px-3 mb-5">
                  <label for="" class="text-lg font-GilroyBold px-1 text-white">Correo Electrónico</label>
                  <div class="flex">
                    <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                        class="mdi mdi-lock-outline text-gray-400 text-lg"></i></div>
                    <input name="email" id="email" type="text"
                      class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#F0CEA0]">
                  </div>
                </div>
              </div>
              <div class="flex -mx-3">
                <div class="w-full px-3 mb-12">
                  <label for="" class="text-lg font-GilroyBold px-1 text-white">Contraseña</label>
                  <div class="flex">
                    <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                        class="mdi mdi-lock-outline text-gray-400 text-lg"></i></div>
                    <input name="password" id="pass" type="password"
                      class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#F0CEA0]">
                  </div>
                </div>
              </div>
              <div class="flex -mx-3">
                <div class="w-full px-3 mb-5">
                  <button type="submit" name="registrarse"
                    class="block w-full max-w-xs mx-auto bg-[#F0CEA0] text-black hover:bg-[#D9A45B] hover:text-white ease-in duration-75  rounded-lg px-3 py-3 font-GilroyBold"
                    type="submit">Registrarse</button>
                </div>
              </div>
            </form>
            <p class="text-red-400 font-GilroyBold text-lg text-center" id="warnings"></p>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<script type='text/javascript'>
  const form = document.getElementById( 'form' );
  const name = document.getElementById( 'name' );
  const lastname = document.getElementById( 'lastname' );
  const user = document.getElementById( 'user' );
  const email = document.getElementById( 'email' );
  const pass = document.getElementById( 'pass' );
  const errorElement = document.getElementById( 'warnings' );

  form.addEventListener( 'submit', ( e ) => {
    e.preventDefault();
    let warnings = "";
    let enter = false;
    const regaxEmail = /^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;
    errorElement.innerHTML = "";
    if ( name.value.length < 3 ) {
      warnings += `El nombre no es válido <br>`;
      enter = true;
    }
    if ( lastname.value.length < 4 ) {
      warnings += `El apellido no es válido <br>`;
      enter = true;
    }
    if ( user.value.length < 4 ) {
      warnings += `El usuario debe tener al menos 4 caracteres <br>`;
      enter = true;
    }
    if ( !regaxEmail.test( email.value ) ) {
      warnings += `El correo no es válido <br>`;
      enter = true;
    }
    if ( pass.value.length < 8 ) {
      warnings += `La contraseña debe tener al menos 8 caracteres <br>`;
      enter = true;
    }
    if ( enter ) {
      errorElement.innerHTML = warnings;
    }

  } );
</script>
